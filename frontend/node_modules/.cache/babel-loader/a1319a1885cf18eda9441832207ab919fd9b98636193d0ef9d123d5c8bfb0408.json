{"ast":null,"code":"var _jsxFileName = \"/home/daniil/Documents/the_fifth_semester/TRPS/frontend/src/components/forms/ProfileForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { authService } from '../../services/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProfileForm = ({\n  onSuccess\n}) => {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const [username, setUsername] = useState('');\n  const [phone, setPhone] = useState('');\n  const [socialNetwork, setSocialNetwork] = useState('');\n  const [socialContact, setSocialContact] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (currentUser) {\n      setUsername(currentUser.username || '');\n      setPhone(currentUser.phone || '');\n      setSocialNetwork(currentUser.social_network || '');\n      setSocialContact(currentUser.social_contact || '');\n    }\n  }, [currentUser]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      setError('');\n      setLoading(true);\n      await authService.updateProfile({\n        username,\n        phone,\n        social_network: socialNetwork,\n        social_contact: socialContact\n      });\n      if (onSuccess) onSuccess();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Ошибка обновления профиля');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    children: [error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      controlId: \"username\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      controlId: \"phone\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Phone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"tel\",\n        value: phone,\n        onChange: e => setPhone(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      controlId: \"socialNetwork\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Social Network\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n        value: socialNetwork,\n        onChange: e => setSocialNetwork(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select a social network\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Telegram\",\n          children: \"Telegram\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"WhatsApp\",\n          children: \"WhatsApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Viber\",\n          children: \"Viber\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Instagram\",\n          children: \"Instagram\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Facebook\",\n          children: \"Facebook\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"VK\",\n          children: \"VK\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"mb-3\",\n      controlId: \"socialContact\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Social Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        value: socialContact,\n        onChange: e => setSocialContact(e.target.value),\n        placeholder: \"Username or phone number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      disabled: loading,\n      type: \"submit\",\n      children: \"Update Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(ProfileForm, \"SokrZXaYIApxP5NFtTulNYVfZkk=\", false, function () {\n  return [useAuth];\n});\n_c = ProfileForm;\nexport default ProfileForm;\nvar _c;\n$RefreshReg$(_c, \"ProfileForm\");","map":{"version":3,"names":["React","useState","useEffect","Form","Button","Alert","useAuth","authService","jsxDEV","_jsxDEV","ProfileForm","onSuccess","_s","currentUser","username","setUsername","phone","setPhone","socialNetwork","setSocialNetwork","socialContact","setSocialContact","error","setError","loading","setLoading","social_network","social_contact","handleSubmit","e","preventDefault","updateProfile","_error$response","_error$response$data","response","data","message","onSubmit","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","Group","className","controlId","Label","Control","type","value","onChange","target","required","Select","placeholder","disabled","_c","$RefreshReg$"],"sources":["/home/daniil/Documents/the_fifth_semester/TRPS/frontend/src/components/forms/ProfileForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Form, Button, Alert } from 'react-bootstrap';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { authService } from '../../services/auth';\n\nconst ProfileForm = ({ onSuccess }) => {\n  const { currentUser } = useAuth();\n  const [username, setUsername] = useState('');\n  const [phone, setPhone] = useState('');\n  const [socialNetwork, setSocialNetwork] = useState('');\n  const [socialContact, setSocialContact] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (currentUser) {\n      setUsername(currentUser.username || '');\n      setPhone(currentUser.phone || '');\n      setSocialNetwork(currentUser.social_network || '');\n      setSocialContact(currentUser.social_contact || '');\n    }\n  }, [currentUser]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    try {\n      setError('');\n      setLoading(true);\n      \n      await authService.updateProfile({\n        username,\n        phone,\n        social_network: socialNetwork,\n        social_contact: socialContact\n      });\n      \n      if (onSuccess) onSuccess();\n    } catch (error) {\n      setError(error.response?.data?.message || 'Ошибка обновления профиля');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n      \n      <Form.Group className=\"mb-3\" controlId=\"username\">\n        <Form.Label>Username</Form.Label>\n        <Form.Control\n          type=\"text\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          required\n        />\n      </Form.Group>\n      \n      <Form.Group className=\"mb-3\" controlId=\"phone\">\n        <Form.Label>Phone</Form.Label>\n        <Form.Control\n          type=\"tel\"\n          value={phone}\n          onChange={(e) => setPhone(e.target.value)}\n          required\n        />\n      </Form.Group>\n      \n      <Form.Group className=\"mb-3\" controlId=\"socialNetwork\">\n        <Form.Label>Social Network</Form.Label>\n        <Form.Select\n          value={socialNetwork}\n          onChange={(e) => setSocialNetwork(e.target.value)}\n        >\n          <option value=\"\">Select a social network</option>\n          <option value=\"Telegram\">Telegram</option>\n          <option value=\"WhatsApp\">WhatsApp</option>\n          <option value=\"Viber\">Viber</option>\n          <option value=\"Instagram\">Instagram</option>\n          <option value=\"Facebook\">Facebook</option>\n          <option value=\"VK\">VK</option>\n        </Form.Select>\n      </Form.Group>\n      \n      <Form.Group className=\"mb-3\" controlId=\"socialContact\">\n        <Form.Label>Social Contact</Form.Label>\n        <Form.Control\n          type=\"text\"\n          value={socialContact}\n          onChange={(e) => setSocialContact(e.target.value)}\n          placeholder=\"Username or phone number\"\n        />\n      </Form.Group>\n      \n      <Button disabled={loading} type=\"submit\">\n        Update Profile\n      </Button>\n    </Form>\n  );\n};\n\nexport default ProfileForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}